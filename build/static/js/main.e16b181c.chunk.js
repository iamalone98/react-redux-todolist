(this["webpackJsonpreact-todolist"]=this["webpackJsonpreact-todolist"]||[]).push([[0],{25:function(e,t,a){e.exports=a(36)},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=a(3),s=a(10),d=a(24),i=a(5),m={goals:[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LISTS":case"ADD_GOAL":return Object(i.a)(Object(i.a)({},e),{},{goals:e.goals.concat(t.payload)});case"ADD_TASK":var a=e.goals.map((function(e){return e.id===t.payload.parentId?(e.tasks=e.tasks.concat(t.payload.task),e):e}));return Object(i.a)(Object(i.a)({},e),{},{goals:a});case"TOGGLE_COMPLETED":var n=e.goals.map((function(e){if(e.id===t.payload.parentId){for(var a=0;a<e.tasks.length;a++)e.tasks[a].id===t.payload.id&&(e.tasks[a].completed=!e.tasks[a].completed);return e}return e}));return Object(i.a)(Object(i.a)({},e),{},{goals:n});case"RENAME_TASK":var r=e.goals.map((function(e){return e.id===t.payload.parentId?(e.text=t.payload.text,e):e}));return Object(i.a)(Object(i.a)({},e),{},{goals:r});default:return e}},_=Object(s.c)({appReducer:u}),p=Object(s.e)(_,Object(s.d)(Object(s.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),E=(a(34),a(9)),k=a(11),g=function(){var e=Object(l.d)((function(e){return e.appReducer.goals})),t=0;return e.forEach((function(e){t=Math.max(t,e.id)})),{goals:e,maxId:++t}},b=function(){var e=Object(l.c)(),t=g().maxId,a=Object(n.useState)(["gray","green","blue","pink","lightgreen","purple","black","orange"]),r=Object(E.a)(a,1)[0],c=Object(n.useState)("blue"),o=Object(E.a)(c,2),s=o[0],d=o[1],i=Object(n.useState)(""),m=Object(E.a)(i,2),u=m[0],_=m[1];return{value:u,colors:r,currentColor:s,setCurrentColor:d,onChangeHandler:function(e){_(e.target.value)},onSubmitHandler:function(a){if(a.preventDefault(),!u.trim())return alert("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!");e({type:"ADD_GOAL",payload:{id:t,color:s,text:u,tasks:[]}})}}},f=function(e){var t=e.toggleForm,a=b(),n=a.value,c=a.colors,o=a.currentColor,l=a.setCurrentColor,s=a.onChangeHandler,d=a.onSubmitHandler;return r.a.createElement("div",{className:"todo__sidebar_item_addmenu"},r.a.createElement("form",{onSubmit:d},r.a.createElement("input",{value:n,onChange:s,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"}),r.a.createElement("ul",{className:"todo__sidebar_item_addmenu-list"},c&&c.map((function(e){return r.a.createElement("li",{key:e,className:"todo__sidebar_item_addmenu-item"},r.a.createElement("i",{onClick:function(){return l(e)},className:"".concat(e," ").concat(o===e?"active":null)}))}))),r.a.createElement("button",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement("img",{onClick:t,className:"todo__sidebar_item_addmenu_close",src:"./closeicon.svg",alt:"close"})))},v=function(e){var t=e.id,a=e.text,n=e.color;return r.a.createElement("li",{className:"todo__sidebar_item"},r.a.createElement(k.b,{to:"/".concat(t)},r.a.createElement("i",{className:"todo__sidebar_item_icon ".concat(n)}),r.a.createElement("p",null,a)))},O=function(){var e=g().goals,t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],o=a[1],l=function(e){e.preventDefault(),o(!c)};return r.a.createElement("div",{className:"todo__sidebar"},r.a.createElement("ul",{className:"todo__sidebar_list"},r.a.createElement("li",{className:"todo__sidebar_item alltasks"},r.a.createElement(k.b,{exact:!0,to:"/"},r.a.createElement("img",{src:"./alltasks.svg",alt:"icon"}),r.a.createElement("p",null,"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"))),e&&e.map((function(e){return r.a.createElement(v,Object.assign({key:e.id},e))})),r.a.createElement("li",{className:"todo__sidebar_item addtask"},r.a.createElement("a",{href:"/",onClick:l},r.a.createElement("img",{src:"./addtask.svg",alt:"icon"}),r.a.createElement("p",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443")))),c&&r.a.createElement(f,{toggleForm:l}))},h=a(2),j=a(16),N=function(e){var t=e.parentId,a=e.text,r=void 0===a?"":a,c=Object(l.c)(),o=g().maxId,s=Object(n.useState)(!1),d=Object(E.a)(s,2),m=d[0],u=d[1],_=Object(n.useState)(!1),p=Object(E.a)(_,2),k=p[0],b=p[1],f=Object(n.useState)({newtask:"",retask:r}),v=Object(E.a)(f,2),O=v[0],h=v[1],N=function(){b(!k)};return{showForm:m,onToggleHandler:function(){u(!m)},onToggleRenameHandler:N,onChangeHandler:function(e){h(Object(i.a)(Object(i.a)({},O),{},Object(j.a)({},e.target.name,e.target.value)))},showRename:k,setShowRename:b,value:O,onRenameTaskHandler:function(){if(!O.retask.trim())return alert("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!");c({type:"RENAME_TASK",payload:{parentId:t,text:O.retask}}),N()},onAddTaskHandler:function(){if(!O.newtask.trim())return alert("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c!");c({type:"ADD_TASK",payload:{parentId:t,task:{id:o,text:O.newtask,completed:!1}}}),h({newtask:""})}}},x=function(e){var t=e.name,a=e.text,n=e.value,c=e.onChange,o=e.onAdd,l=e.onToggleHandler;return r.a.createElement("div",{className:"todo__tasks_addtask-form"},r.a.createElement("input",{name:t,value:n,onChange:c,type:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"}),r.a.createElement("button",{onClick:o,className:"todo__tasks_addtask-form-add"},a),r.a.createElement("button",{onClick:l,className:"todo__tasks_addtask-form-close"},"\u041e\u0442\u043c\u0435\u043d\u0430"))},y=Object(l.b)(null,(function(e){return{toggleCompleted:function(t){return e({type:"TOGGLE_COMPLETED",payload:t})}}}))((function(e){var t=e.text,a=e.id,n=e.parentId,c=e.completed,o=e.toggleCompleted;return r.a.createElement("div",{className:"todo__tasks_item"},r.a.createElement("input",{id:"todo__tasks_item-input-".concat(n,"-").concat(a),onClick:function(){o({parentId:n,id:a})},className:"todo__tasks_item-input",type:"checkbox",defaultChecked:c}),r.a.createElement("label",{className:"todo__tasks_item-label checked",htmlFor:"todo__tasks_item-input-".concat(n,"-").concat(a)}),r.a.createElement("p",null,t))})),C=function(e){var t=e.id,a=e.items,n=e.text,c=e.color,o=N({parentId:t,text:n}),l=o.value,s=l.newtask,d=l.retask,i=o.showForm,m=o.showRename,u=o.onRenameTaskHandler,_=o.onAddTaskHandler,p=o.onToggleHandler,E=o.onToggleRenameHandler,k=o.onChangeHandler;return r.a.createElement("div",{className:"todo__task"},!m&&r.a.createElement("h1",{onClick:E,className:"".concat(c)},n," ",r.a.createElement("img",{src:"./edit.svg",alt:"edit"})),m&&r.a.createElement(x,{onAdd:u,onChange:k,value:d,name:"retask",onToggleHandler:E,text:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),r.a.createElement("hr",null),r.a.createElement("div",{className:"todo__tasks_list"},a&&a.map((function(e){return r.a.createElement(y,Object.assign({key:e.id,parentId:t,id:e.id},e))}))),r.a.createElement("div",{className:"todo__tasks_addtask"},!i&&r.a.createElement("div",{onClick:p,className:"todo__tasks_addtask-btn"},r.a.createElement("img",{src:"./addtask.svg",alt:"addtask"}),r.a.createElement("p",null,"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430")),i&&r.a.createElement(x,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",name:"newtask",onAdd:_,onToggleHandler:p,value:s,onChange:k})))},T=Object(l.b)((function(e){return{tasks:e.appReducer.goals}}))((function(e){var t=e.tasks;return r.a.createElement("div",{className:"todo__tasks"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},t&&t.map((function(e){return r.a.createElement(C,{key:e.id,id:e.id,items:e.tasks,color:e.color,text:e.text})}))),r.a.createElement(h.a,{exact:!0,path:"/:id",children:function(e){var a=e.match;return t&&t.map((function(e){return+a.params.id===+e.id?r.a.createElement(C,{key:e.id,id:e.id,items:e.tasks,color:e.color,text:e.text}):null}))}})))}));var S=function(){var e=Object(l.c)();return Object(n.useEffect)((function(){return e((function(e){fetch("/db.json").then((function(e){return e.json()})).then((function(t){return e({type:"SET_LISTS",payload:t.goals})}))}))}),[e]),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"todo"},r.a.createElement(O,null),r.a.createElement(T,null)))};o.a.render(r.a.createElement(l.a,{store:p},r.a.createElement(k.a,null,r.a.createElement(S,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.e16b181c.chunk.js.map